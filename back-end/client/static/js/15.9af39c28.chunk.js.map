{"version":3,"sources":["views/customers/SignModal.js","views/customers/Consentform.js","redux/actions/client/index.js"],"names":["SignModal","state","activeTab","signModal","sigPad","clear","sign","props","handler","getTrimmedCanvas","toDataURL","toggleModal","setState","prevState","Modal","isOpen","this","toggle","className","ModalHeader","ModalBody","penColor","canvasProps","width","height","ref","ModalFooter","Button","color","onClick","React","Component","referredby","value","label","getToday","date","Date","year","getFullYear","month","getMonth","dt","getDate","Consentform","topDate","birthdate","basicquestions","mediahistory","bodyarea","status","signUrl","name","email","defaultAlert","confirmAlert","cancelAlert","isActive","target","url","handleAlert","location","pathname","split","getForm","prevProps","response","history","push","formData","FormData","contactsInfo","document","querySelectorAll","signInfo","contactsInfoData","signInfoData","forEach","element","getAttribute","append","JSON","stringify","window","innerWidth","getElementById","setAttribute","page1","page2","doc","jsPDF","html2canvas","useCORS","then","canvas","pageWidth","internal","pageSize","getWidth","pageHeight","getHeight","widthRatio","heightRatio","ratio","canvasWidth","canvasHeight","marginX","marginY","toBlob","blob","fileUrl1","URL","createObjectURL","revokeObjectURL","canvas2","pageWidth1","pageHeight1","widthRatio1","heightRatio1","ratio1","canvasWidth1","canvasHeight1","marginX1","marginY1","blob2","fileUrl2","w","h","mx","my","submitConsentForm","e","preventDefault","toast","warn","image","addImage","addPage","image1","save","Card","style","position","top","bottom","left","right","overflow","CardBody","Form","id","onSubmit","handleSubmit","src","consentLogo","alt","FormGroup","row","Col","md","size","offset","required","onChange","classNamePrefix","options","Input","type","placeholder","isMulti","Row","map","Item","i","category","key","question","defaultChecked","_id","margin","readOnly","sm","Ripple","v","t","outline","handleDownload","title","warning","show","showCancel","reverseButtons","cancelBtnBsStyle","confirmBtnText","cancelBtnText","onConfirm","submit","onCancel","success","confirmBtnBsStyle","error","connect","client","dispatch","Axios","post","data","emailSent","catch","err"],"mappings":"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","file":"static/js/15.9af39c28.chunk.js","sourcesContent":["import React from \"react\"\r\nimport {\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter\r\n} from \"reactstrap\"\r\nimport SignatureCanvas from 'react-signature-canvas'\r\n\r\nclass SignModal extends React.Component {\r\n  state = {\r\n    activeTab: \"1\",\r\n    signModal: false\r\n  }\r\n\r\n  sigPad = {}\r\n\r\n  clear = () => {\r\n    this.sigPad.clear()\r\n  }\r\n\r\n  sign = () => {\r\n    this.props.handler(!this.props.signModal,'signModal',this.sigPad.getTrimmedCanvas()\r\n    .toDataURL('image/png'))\r\n  }\r\n\r\n\r\n  toggleModal = () => {\r\n    this.setState(prevState => ({\r\n        signModal: !prevState.signModal\r\n    }))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <Modal\r\n            isOpen={this.props.signModal}\r\n            toggle={()=>this.props.handler(!this.props.signModal,'signModal','')}\r\n            className=\"modal-dialog-centered modal-lg\"\r\n        >\r\n            <ModalHeader toggle={()=>this.props.handler(!this.props.signModal,'signModal','')}>\r\n            Sign here\r\n            </ModalHeader>\r\n            <ModalBody>\r\n                <SignatureCanvas penColor='black'\r\n                    canvasProps={{width: 800, height: 300, className: 'sigCanvas'}}  ref={(ref) => { this.sigPad = ref }} />\r\n            </ModalBody>\r\n            <ModalFooter>\r\n            <Button color=\"primary\" onClick={this.clear}>\r\n                Clear\r\n            </Button>\r\n            <Button color=\"primary\" onClick={this.sign}>\r\n                Sign\r\n            </Button>{\" \"}\r\n            </ModalFooter>\r\n        </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SignModal\r\n","import React from \"react\"\r\nimport \"../../assets/scss/pages/authentication.scss\"\r\nimport { getForm, submitConsentForm } from \"../../redux/actions/client\"\r\nimport consentLogo from \"../../assets/img/logo/logo.png\"\r\nimport { connect } from \"react-redux\"\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  FormGroup,\r\n  Col,\r\n  Input,\r\n  Form,\r\n  Button,\r\n  Row\r\n} from \"reactstrap\"\r\n\r\nimport Flatpickr from \"react-flatpickr\"\r\nimport \"flatpickr/dist/themes/light.css\"\r\nimport \"../../assets/scss/plugins/forms/flatpickr/flatpickr.scss\"\r\nimport \"../../assets/scss/custom.scss\"\r\nimport Radio from \"../../components/@vuexy/radio/RadioVuexy\"\r\nimport {history} from \"../../history\"\r\n\r\nimport SignModal from './SignModal'\r\nimport jsPDF from 'jspdf'\r\nimport { toast } from 'react-toastify';\r\nimport Select from \"react-select\"\r\nimport SweetAlert from 'react-bootstrap-sweetalert';\r\nimport html2canvas from 'html2canvas';\r\n// import LoadingOverlay from 'react-loading-overlay';\r\n\r\nconst referredby = [\r\n  {value: \"Google/website\", label: \"Google/website\"},\r\n  {value: \"Facebook\", label: \"Facebook\"},\r\n  {value: \"Instagram\", label: \"Instagram\"},\r\n  {value: \"Kijiji\", label: \"Kijiji\"},\r\n  {value: \"Walk-in\", label: \"Walk-in\"},\r\n  {value: \"Word of mouth\", label: \"Word of mouth\"}\r\n]\r\n\r\nconst getToday=()=>{\r\n  let date = new Date();\r\n  let year = date.getFullYear();\r\n  let month = date.getMonth()+1;\r\n  let dt = date.getDate();\r\n\r\n  if (dt < 10) {\r\n    dt = '0' + dt;\r\n  }\r\n  if (month < 10) {\r\n    month = '0' + month;\r\n  }\r\n\r\n  return year + \"-\" + month + \"-\" + dt;\r\n}\r\n\r\nclass Consentform extends React.Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    let url = this.props.location.pathname.split(\":\")[1];\r\n    this.props.getForm(url);\r\n  }\r\n  state = {\r\n    topDate : getToday(),\r\n    birthdate: getToday(),\r\n    basicquestions: [],\r\n    mediahistory: [],\r\n    bodyarea: [],\r\n    status: false,\r\n    signModal: false,\r\n    signUrl : '',\r\n    name: '',\r\n    email: '',\r\n    defaultAlert : false,\r\n    confirmAlert : false,\r\n    cancelAlert : false,\r\n    isActive: false\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState(prevState => ({\r\n      signModal: !prevState.signModal\r\n    }))\r\n  }\r\n\r\n  handler = (value,target, url) => {\r\n    this.setState({ [target]: value,signUrl: url })\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if(!this.props.response.status){\r\n      // toast.error(this.props.response.msg);\r\n      history.push('/error');\r\n    }\r\n  }\r\n\r\n  handleAlert = (state, value) => {\r\n    this.setState({ [state] : value })\r\n  }\r\n\r\n  async submit(){\r\n    // this.setState({isActive: true});\r\n    let formData = new FormData();;\r\n    let contactsInfo = document.querySelectorAll('#contact-info input');\r\n    let signInfo = document.querySelectorAll('#page2 input');\r\n    let contactsInfoData = {}\r\n    let signInfoData = {}\r\n\r\n    contactsInfo.forEach(element => {\r\n      contactsInfoData[element.getAttribute('name')] = element.value;\r\n    });\r\n    contactsInfoData['topdate'] = this.state.topDate;\r\n    contactsInfoData['birthdate'] = this.state.birthdate;\r\n    contactsInfoData['bodyarea'] = this.state.bodyarea;\r\n    formData.append('contactInfo', JSON.stringify(contactsInfoData));\r\n\r\n    signInfo.forEach(element => {\r\n      signInfoData[element.getAttribute('name')] = element.value;\r\n    });\r\n    signInfoData['sign'] = /*this.state.signUrl*/'';\r\n    formData.append('signInfo', JSON.stringify(signInfoData));\r\n\r\n    if(window.innerWidth < 1024){\r\n      document.getElementById(\"viewport\").setAttribute(\"content\", \"width=1200px\");\r\n    }\r\n\r\n    // this.props.submitConsentForm({});\r\n    const page1 = document.getElementById('page1');\r\n    const page2 = document.getElementById('page2');\r\n    const doc = new jsPDF('p', 'px', 'a4');\r\n\r\n    html2canvas(page1, {\r\n      useCORS: true,\r\n    }).then(canvas => {\r\n      const image = canvas.toDataURL('image/jpeg', 1.0);\r\n      const pageWidth = doc.internal.pageSize.getWidth();\r\n      const pageHeight = doc.internal.pageSize.getHeight();\r\n\r\n      const widthRatio = pageWidth / canvas.width;\r\n      const heightRatio = pageHeight / canvas.height;\r\n      const ratio = widthRatio > heightRatio ? heightRatio : widthRatio;\r\n\r\n      const canvasWidth = canvas.width * ratio;\r\n      const canvasHeight = canvas.height * ratio;\r\n\r\n      const marginX = (pageWidth - canvasWidth) / 2;\r\n      const marginY = (pageHeight - canvasHeight) / 2;\r\n      canvas.toBlob(blob => {\r\n        blob.name = \"page1\";\r\n        var fileUrl1 =  URL.createObjectURL(blob);\r\n        blob.name = \"page1\";\r\n        window.URL.revokeObjectURL(fileUrl1);\r\n        fileUrl1 = window.URL.createObjectURL(blob);\r\n        // window.URL.revokeObjectURL(this.fileUrl);\r\n        // fileUrl = window.URL.createObjectURL(blob);\r\n        // resolve({fileUrl : fileUrl,blob : blob});\r\n\r\n        html2canvas(page2, {\r\n          useCORS: true,\r\n        }).then(canvas2 => {\r\n          const image1 = canvas2.toDataURL('image/jpeg', 1.0);\r\n          const pageWidth1 = doc.internal.pageSize.getWidth();\r\n          const pageHeight1 = doc.internal.pageSize.getHeight();\r\n\r\n          const widthRatio1 = pageWidth1 / canvas2.width;\r\n          const heightRatio1 = pageHeight1 / canvas2.height;\r\n          const ratio1 = widthRatio1 > heightRatio1 ? heightRatio1 : widthRatio1;\r\n\r\n          const canvasWidth1 = canvas2.width * ratio1;\r\n          const canvasHeight1 = canvas2.height * ratio1;\r\n\r\n          const marginX1 = (pageWidth1 - canvasWidth1) / 2;\r\n          const marginY1 = (pageHeight1 - canvasHeight1) / 2;\r\n          canvas2.toBlob(blob2 => {\r\n            blob2.name = \"page2\";\r\n            var fileUrl2 =  URL.createObjectURL(blob2);\r\n            blob2.name = \"page2\";\r\n            window.URL.revokeObjectURL(fileUrl2);\r\n            fileUrl2 = window.URL.createObjectURL(blob2);\r\n\r\n\r\n            formData.append('page1', blob);\r\n            formData.append('page2', blob2);\r\n            formData.append('margin1',JSON.stringify({w: canvasWidth, h: canvasHeight, mx: marginX, my: marginY}));\r\n            formData.append('margin2', JSON.stringify({w: canvasWidth1, h: canvasHeight1, mx: marginX1, my: marginY1}));\r\n            this.props.submitConsentForm(formData);\r\n            document.getElementById(\"viewport\").setAttribute(\"content\", \"width=device-width, initial-scale=1\");\r\n          },'image/jpeg');\r\n        });\r\n\r\n      }, 'image/jpeg');\r\n    });\r\n\r\n    // html2canvas(page1, {\r\n    //   useCORS: true,\r\n    // }).then(canvas => {\r\n    //   const image = canvas.toDataURL('image/jpeg', 1.0);\r\n    //   const pageWidth = doc.internal.pageSize.getWidth();\r\n    //   const pageHeight = doc.internal.pageSize.getHeight();\r\n\r\n    //   const widthRatio = pageWidth / canvas.width;\r\n    //   const heightRatio = pageHeight / canvas.height;\r\n    //   const ratio = widthRatio > heightRatio ? heightRatio : widthRatio;\r\n\r\n    //   const canvasWidth = canvas.width * ratio;\r\n    //   const canvasHeight = canvas.height * ratio;\r\n\r\n    //   const marginX = (pageWidth - canvasWidth) / 2;\r\n    //   const marginY = (pageHeight - canvasHeight) / 2;\r\n\r\n    //   // doc.addImage(image, 'JPEG', marginX, marginY, canvasWidth, canvasHeight);\r\n    //   // doc.addPage()\r\n\r\n    //   html2canvas(page2, {\r\n    //     useCORS: true,\r\n    //   }).then(canvas2 => {\r\n    //     const image1 = canvas2.toDataURL('image/jpeg', 1.0);\r\n    //     const pageWidth1 = doc.internal.pageSize.getWidth();\r\n    //     const pageHeight1 = doc.internal.pageSize.getHeight();\r\n\r\n    //     const widthRatio1 = pageWidth1 / canvas2.width;\r\n    //     const heightRatio1 = pageHeight1 / canvas2.height;\r\n    //     const ratio1 = widthRatio1 > heightRatio1 ? heightRatio1 : widthRatio1;\r\n\r\n    //     const canvasWidth1 = canvas2.width * ratio1;\r\n    //     const canvasHeight1 = canvas2.height * ratio1;\r\n\r\n    //     const marginX1 = (pageWidth1 - canvasWidth1) / 2;\r\n    //     const marginY1 = (pageHeight1 - canvasHeight1) / 2;\r\n\r\n    //     // doc.addImage(image1, 'JPEG', marginX1, marginY1, canvasWidth1, canvasHeight1);\r\n\r\n    //     // doc.save('Skin Beauty Enhance Consent Form - '+this.state.name+'.pdf');\r\n\r\n    //     formData['page1'] = image;\r\n    //     formData['page2'] = image1;\r\n    //     formData['margin1'] = {w: canvasWidth, h: canvasHeight, mx: marginX, my: marginY};\r\n    //     formData['margin2'] = {w: canvasWidth1, h: canvasHeight1, mx: marginX1, my: marginY1};\r\n    //     this.props.submitConsentForm(formData);\r\n    //   });\r\n    // });\r\n\r\n\r\n  }\r\n\r\n  async handleSubmit(e) {\r\n    e.preventDefault();\r\n    if(!this.state.signUrl){\r\n      toast.warn('Please sign the consent form.');\r\n      return;\r\n    }\r\n\r\n    this.setState({ defaultAlert : true });\r\n  }\r\n\r\n  async handleDownload(e){\r\n    e.preventDefault();\r\n    if(!this.state.signUrl){\r\n      toast.warn('Please sign the consent form.');\r\n      return;\r\n    }\r\n\r\n    if(window.innerWidth < 1024){\r\n      document.getElementById(\"viewport\").setAttribute(\"content\", \"width=1200px\");\r\n    }\r\n\r\n    const page1 = document.getElementById('page1');\r\n    const page2 = document.getElementById('page2');\r\n    const doc = new jsPDF('p', 'px', 'a4');\r\n\r\n    html2canvas(page1, {\r\n      useCORS: true,\r\n    }).then(canvas => {\r\n      const image = canvas.toDataURL('image/jpeg', 1.0);\r\n      const pageWidth = doc.internal.pageSize.getWidth();\r\n      const pageHeight = doc.internal.pageSize.getHeight();\r\n\r\n      const widthRatio = pageWidth / canvas.width;\r\n      const heightRatio = pageHeight / canvas.height;\r\n      const ratio = widthRatio > heightRatio ? heightRatio : widthRatio;\r\n\r\n      const canvasWidth = canvas.width * ratio;\r\n      const canvasHeight = canvas.height * ratio;\r\n\r\n      const marginX = (pageWidth - canvasWidth) / 2;\r\n      const marginY = (pageHeight - canvasHeight) / 2;\r\n\r\n      doc.addImage(image, 'JPEG', marginX, marginY, canvasWidth, canvasHeight);\r\n      doc.addPage()\r\n\r\n      html2canvas(page2, {\r\n        useCORS: true,\r\n      }).then(canvas2 => {\r\n        const image1 = canvas2.toDataURL('image/jpeg', 1.0);\r\n        const pageWidth1 = doc.internal.pageSize.getWidth();\r\n        const pageHeight1 = doc.internal.pageSize.getHeight();\r\n\r\n        const widthRatio1 = pageWidth1 / canvas2.width;\r\n        const heightRatio1 = pageHeight1 / canvas2.height;\r\n        const ratio1 = widthRatio1 > heightRatio1 ? heightRatio1 : widthRatio1;\r\n\r\n        const canvasWidth1 = canvas2.width * ratio1;\r\n        const canvasHeight1 = canvas2.height * ratio1;\r\n\r\n        const marginX1 = (pageWidth1 - canvasWidth1) / 2;\r\n        const marginY1 = (pageHeight1 - canvasHeight1) / 2;\r\n\r\n        doc.addImage(image1, 'JPEG', marginX1, marginY1, canvasWidth1, canvasHeight1);\r\n\r\n        doc.save('Skin Beauty Enhance Consent Form - '+this.state.name+'.pdf');\r\n\r\n        document.getElementById(\"viewport\").setAttribute(\"content\", \"width=device-width, initial-scale=1\");\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let {\r\n      topDate,\r\n      birthdate,\r\n      signUrl,\r\n      name,\r\n      email\r\n    } = this.state\r\n    return (\r\n      <Card style={{position:\"absolute\",top:\"0\",bottom:\"0\",left:\"0\",right:\"0\",overflow:\"auto\"}}>\r\n        <CardBody className=\"container\">\r\n          <Form id=\"pdfbody\" onSubmit={(e)=>this.handleSubmit(e)}>\r\n            <div id=\"page1\" className=\"pl-3 pr-3\">\r\n              <div className=\"col-sm-12 col-xs-12 consent-logo\">\r\n                <img src={consentLogo} alt=\"\" style={{position:\"absolute\"}} />\r\n              </div>\r\n              <div id=\"contact-info\">\r\n                <FormGroup row>\r\n                  <Col md={{ size: 6, offset: 6 }} >\r\n                    <span>Date:</span>\r\n                    <Flatpickr\r\n                      required\r\n                      name=\"topdate\"\r\n                      className=\"form-control\"\r\n                      value={topDate}\r\n                      onChange={date => {\r\n                        this.setState({ topDate : date });\r\n                      }}\r\n                    />\r\n                  </Col>\r\n                </FormGroup>\r\n                <FormGroup row>\r\n                  <Col md={{ size: 6, offset: 6 }}>\r\n                    <span>Referred by:</span>\r\n                    <Select\r\n                      className=\"React\"\r\n                      classNamePrefix=\"select\"\r\n                      name=\"referredby\"\r\n                      options={referredby}\r\n                      >\r\n                  </Select>\r\n                  </Col>\r\n                </FormGroup>\r\n                <FormGroup row>\r\n                  <Col>\r\n                    <span>Name & Surname:</span>\r\n                    <Input\r\n                      required\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      id=\"name\"\r\n                      value={name}\r\n                      onChange={e => {this.setState({name: e.target.value})}}\r\n                      placeholder=\"John Doe\"\r\n                    />\r\n                  </Col>\r\n                </FormGroup>\r\n                <FormGroup row>\r\n                  <Col md=\"8\">\r\n                    <span>Address:</span>\r\n                    <Input\r\n                      required\r\n                      type=\"text\"\r\n                      name=\"address\"\r\n                      id=\"address\"\r\n                      placeholder=\"\"\r\n                    />\r\n                  </Col>\r\n                  <Col md=\"4\" >\r\n                    <span>Postal Code:</span>\r\n                    <Input\r\n                      required\r\n                      type=\"text\"\r\n                      name=\"postalcode\"\r\n                      id=\"postalcode\"\r\n                      placeholder=\"14523\"\r\n                    />\r\n                  </Col>\r\n                </FormGroup>\r\n                <FormGroup row>\r\n                  <Col md=\"4\" >\r\n                    <span>City:</span>\r\n                    <Input\r\n                      required\r\n                      type=\"text\"\r\n                      name=\"city\"\r\n                      id=\"city\"\r\n                      placeholder=\"\"\r\n                    />\r\n                  </Col>\r\n                  <Col md=\"4\" >\r\n                    <span>Phone:</span>\r\n                    <Input\r\n                      required\r\n                      type=\"number\"\r\n                      name=\"phone\"\r\n                      id=\"phone\"\r\n                      placeholder=\"\"\r\n                    />\r\n                  </Col>\r\n                </FormGroup>\r\n                <FormGroup row>\r\n                  <Col md=\"8\" >\r\n                    <span>Areas to be treated:</span>\r\n                    <Select\r\n                      className=\"React\"\r\n                      classNamePrefix=\"select\"\r\n                      isMulti\r\n                      name=\"bodyarea\"\r\n                      options={this.props.response.bodyarea}\r\n                      onChange={e => {this.setState({bodyarea: e})}}\r\n                      >\r\n                      </Select>\r\n                  </Col>\r\n                </FormGroup>\r\n                <FormGroup row>\r\n                  <Col md=\"5\" >\r\n                    <span>Date of birth:</span>\r\n                    <Flatpickr\r\n                      required\r\n                      name=\"birthdate\"\r\n                      className=\"form-control\"\r\n                      value={birthdate}\r\n                      onChange={date => {\r\n                        this.setState({ birthdate : date });\r\n                      }}\r\n                      />\r\n                  </Col>\r\n                  <Col md=\"5\" >\r\n                    <span>Email:</span>\r\n                    <Input\r\n                      required\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      id=\"Email\"\r\n                      placeholder=\"Email\"\r\n                      value={email}\r\n                      onChange={e => {this.setState({email: e.target.value})}}\r\n                    />\r\n                  </Col>\r\n                </FormGroup>\r\n              </div>\r\n          <Row>\r\n            {\r\n              this.props.response.basicquestions?\r\n                this.props.response.basicquestions.map((Item, i)=>{\r\n                  if(Item.category === 'Check'){\r\n                      if(i % 2 === 0)\r\n                        return (\r\n                              <Col md='6' key={i} className=\"question-center\">\r\n                                    <div className=\"d-inline-block mr-1 col-md-3\">{Item.question}</div>\r\n                                    <div className=\"d-inline-block mr-1\">\r\n                                      <Radio label=\"Yes\" defaultChecked={false} name={Item._id} />\r\n                                    </div>\r\n                                    <div className=\"d-inline-block mr-1\">\r\n                                      <Radio label=\"No\" defaultChecked={false} name={Item._id} />\r\n                                    </div>\r\n                                </Col>\r\n                            )\r\n                      else{\r\n                        return (\r\n                          <Col md='6' key={i} className=\"question-center\">\r\n                            <div className=\"d-inline-block mr-1 col-md-3\">{Item.question}</div>\r\n                                <div className=\"d-inline-block mr-1\">\r\n                                  <Radio label=\"Yes\" defaultChecked={false} name={Item._id} />\r\n                                </div>\r\n                                <div className=\"d-inline-block mr-1\">\r\n                                  <Radio label=\"No\" defaultChecked={false} name={Item._id} />\r\n                                </div>\r\n                            </Col>\r\n                        )\r\n                      }\r\n                    }\r\n                    else{\r\n                      if(i % 2 === 0){\r\n                        return (<Col  md='6'  key={i} className=\"question-center\">\r\n                                  <div className=\"d-inline-block mr-1 col-md-3\">{Item.question}</div>\r\n                                    <Input type=\"text\" name={Item.question} id={Item._id} />\r\n                                </Col>)\r\n                      }\r\n                      else{\r\n                        return (<Col  md='6'  key={i} className=\"question-center\">\r\n                                  <div className=\"d-inline-block mr-1 col-md-3\">{Item.question}</div>\r\n                                    <Input type=\"text\" name={Item.question} id={Item._id} />\r\n                                </Col>)\r\n                      }\r\n                    }\r\n                  }\r\n                ):null\r\n            }\r\n          </Row>\r\n            <h3 className=\"text-center mt-2\" >Medical History</h3>\r\n            {/* Mdical History */}\r\n            <Row>\r\n            {\r\n              this.props.response.mediahistory?\r\n                this.props.response.mediahistory.map((Item, i)=>{\r\n                      if(i % 2 === 0)\r\n                        return (\r\n                              <Col md='6' key={i} className=\"question-center\">\r\n                                <div className=\"d-inline-block mr-1 col-md-3\">{Item.question}</div>\r\n                                    <div className=\"d-inline-block mr-1\">\r\n                                      <Radio label=\"Yes\" defaultChecked={false} name={Item._id} />\r\n                                    </div>\r\n                                    <div className=\"d-inline-block mr-1\">\r\n                                      <Radio label=\"No\" defaultChecked={false} name={Item._id} />\r\n                                    </div>\r\n                                </Col>\r\n                            )\r\n                      else{\r\n                        return (\r\n                          <Col md='6' key={i} className=\"question-center\">\r\n                            <div className=\"d-inline-block mr-1 col-md-3\">{Item.question}</div>\r\n                                <div className=\"d-inline-block mr-1\">\r\n                                  <Radio label=\"Yes\" defaultChecked={false} name={Item._id} />\r\n                                </div>\r\n                                <div className=\"d-inline-block mr-1\">\r\n                                  <Radio label=\"No\" defaultChecked={false} name={Item._id} />\r\n                                </div>\r\n                            </Col>\r\n                        )\r\n                      }\r\n                  }\r\n                ):null\r\n            }\r\n          </Row>\r\n          <FormGroup row className=\"mt-3\">\r\n              <Col md=\"10\" >\r\n                  <span>Comment:</span>\r\n                  <Input\r\n                    type=\"text\"\r\n                    name=\"comment\"\r\n                    id=\"comment\"\r\n                    placeholder=\"\"\r\n                  />\r\n                </Col>\r\n            </FormGroup>\r\n            </div>\r\n            <div id=\"page2\" className=\"pl-3 pr-3\">\r\n            <h2 className=\"text-center mt-3 mb-3\">Consent for Laser Hair Removal</h2>\r\n            <Row className=\"container\" style={{margin:\"0 auto\"}}>\r\n              <p>\r\n              I understand that Soprano Lite is a device used for laser treatment and the clinical results may vary in\r\ndifferent skin types. I understand there is possibility of short term effects such as blistering, scabbing,\r\ntemporary bruising and temporary discoloration of the skin, as well as uncommon side effects such as\r\nscarring and permanent discoloration.\r\n              </p>\r\n              <p>\r\n              I certify that I have been fully informed of the nature and purpose of the procedure, expected outcomes\r\nand possible complications and I understand that no guarantee can be given as to the final result\r\nobtained. I’m fully aware that my condition is a cosmetic concern, and that the decision to proceed is\r\nbased solely on my expressed desire to do so.\r\n              </p>\r\n              <p>\r\n              Clinical results may vary depending on individual factors including medical history, skin type, hair type,\r\npatient compliance with pre/post treatment instructions, as well as patient commitment and individual\r\nresponse to treatment.\r\n              </p>\r\n              <p>\r\n              I confirm that I’m not pregnant at this time, and that I have not taken Accutane within the last 6 months.\r\nI do not have a pacemaker or internal defibrillators.\r\n              </p>\r\n              <p>\r\n              I consent to the taking photographs and authorized their anonymous use for the purpose of medical\r\naudit, education and promotion.\r\n              </p>\r\n              <p>\r\n              I consent that I have been given the opportunity to ask questions and that I have read and fully\r\nunderstand the contents of this form.\r\n              </p>\r\n              <br />\r\n              <br />\r\n              <br />\r\n              <b>\r\n              I hereby certify that all information that I have provided has been accurate and truthful. I\r\nacknowledge the above risks, conditions, limitations, and complications. I further acknowledge that\r\nthese risks, conditions, limitations and complications have been explained to me and that I accept\r\nthese risks and consent to treatment.\r\nI agree to follow all post treatment care instructions provided to me. I also acknowledge that I have\r\nbeen provided adequate time to read, understand and accepts the above risks, conditions, limitations\r\nand complications.\r\n              </b>\r\n            </Row>\r\n            <FormGroup row className=\"mt-3\">\r\n                <Col md={{ size: 1, offset: 2 }} >\r\n                  <span>Name:</span>\r\n                </Col>\r\n                <Col md=\"6\">\r\n                  <Input\r\n                    type=\"text\"\r\n                    name=\"sign_name\"\r\n                    id=\"sign_name\"\r\n                    placeholder=\"John Doe\"\r\n                    value={name}\r\n                    readOnly\r\n                  />\r\n                </Col>\r\n              </FormGroup>\r\n              <FormGroup row className=\"mb-3\">\r\n                <Col md={{ size: 1, offset: 2 }} >\r\n                  <span>Date:</span>\r\n                </Col>\r\n                <Col md=\"2\" sm=\"4\">\r\n                  <Input\r\n                      type=\"text\"\r\n                      name=\"signdate\"\r\n                      id=\"sign_name\"\r\n                      value={topDate}\r\n                      readOnly\r\n                    />\r\n                </Col>\r\n                <Col md={{size:6, offset:1}} className='row'>\r\n                  <Col md='4'>\r\n                    <Button.Ripple\r\n                      color=\"primary\"\r\n                      type=\"button\"\r\n                      className=\"mr-1 mb-1\"\r\n                      onClick={this.toggleModal}\r\n                    >\r\n                    Signature\r\n                  </Button.Ripple>\r\n                  </Col>\r\n                  <Col md='8'>\r\n                    {signUrl !== '' ? <img src={signUrl} alt='Sign' width='150' height='50'/> : ''}\r\n\r\n                  </Col>\r\n                </Col>\r\n              </FormGroup>\r\n            </div>\r\n\r\n              <SignModal {...this.state} handler={(v,t,url)=>this.handler(v,t,url)}/>\r\n\r\n            <FormGroup row>\r\n              <Col md={{ size: 12 }} className=\"text-center\">\r\n                <Button.Ripple\r\n                  color=\"primary\"\r\n                  type=\"submit\"\r\n                  className=\"mr-1 mb-1\"\r\n                  // onClick={()=>this.handleSubmit(this.printDocument)}\r\n                >\r\n                  Submit\r\n                </Button.Ripple>\r\n\r\n                <Button.Ripple\r\n                  outline\r\n                  color=\"warning\"\r\n                  type=\"reset\"\r\n                  className=\"mb-1\"\r\n                >\r\n                  Reset Form\r\n                </Button.Ripple>\r\n                <Button.Ripple\r\n                  outline\r\n                  color=\"success\"\r\n                  type=\"submit\"\r\n                  className=\"ml-1 mb-1\"\r\n                  type=\"submit\"\r\n                  onClick={(e)=>this.handleDownload(e)}\r\n                >\r\n                  Download PDF\r\n                </Button.Ripple>\r\n              </Col>\r\n            </FormGroup>\r\n          </Form>\r\n          <SweetAlert title=\"Are you sure?\"\r\n            warning\r\n            show={this.state.defaultAlert}\r\n            showCancel\r\n            reverseButtons\r\n            cancelBtnBsStyle=\"danger\"\r\n            confirmBtnText=\"Yes, Submit!\"\r\n            cancelBtnText=\"Cancel\"\r\n            onConfirm={() => {\r\n              this.handleAlert(\"basicAlert\", false)\r\n              this.handleAlert(\"defaultAlert\", false)\r\n              // this.handleAlert(\"confirmAlert\", true)\r\n              this.submit()\r\n            }}\r\n            onCancel={() => {\r\n              this.handleAlert(\"basicAlert\", false)\r\n              this.handleAlert(\"defaultAlert\", false)\r\n            }}\r\n          >\r\n            You won't be able to revert this!\r\n        </SweetAlert>\r\n\r\n        <SweetAlert success title=\"Deleted!\"\r\n          confirmBtnBsStyle=\"success\"\r\n          show={this.state.confirmAlert}\r\n          onConfirm={() => {\r\n            this.handleAlert(\"defaultAlert\", false)\r\n            this.handleAlert(\"confirmAlert\", false)\r\n          }}\r\n        >\r\n            <p className=\"sweet-alert-text\">Your file has been deleted.</p>\r\n        </SweetAlert>\r\n\r\n        <SweetAlert error title=\"Cancelled\"\r\n          confirmBtnBsStyle=\"success\"\r\n          show={this.state.cancelAlert}\r\n          onConfirm={() =>{\r\n            this.handleAlert(\"defaultAlert\", false)\r\n            this.handleAlert(\"cancelAlert\", false)\r\n          }}\r\n        >\r\n            <p className=\"sweet-alert-text\">\r\n              Your imaginary file is safe :)\r\n            </p>\r\n        </SweetAlert>\r\n\r\n\r\n        </CardBody>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => (\r\n{\r\n  response : state.client\r\n})\r\nexport default connect(mapStateToProps, { getForm,submitConsentForm })(Consentform)\r\n","import {Axios} from \"../root\"\r\nimport { toast } from 'react-toastify';\r\nimport { history } from \"../../../history\"\r\n\r\nexport const getForm = url => {\r\n    return dispatch => {\r\n      Axios\r\n        .post(\"customers/get_consent_form\", {\r\n          url: url\r\n        })\r\n        .then(response => {\r\n            dispatch({type:'CONSENT_FORM', data:response.data});\r\n        })\r\n    }\r\n  }\r\n\r\n  export const submitConsentForm = data => {\r\n    return dispatch => {\r\n      Axios\r\n        .post(\"customers/submit_consent_form\", data)\r\n        .then(response => {\r\n            if(response.data.status && response.data.emailSent){\r\n              toast.success(\"Email sent successfully.\");\r\n            }\r\n            else{\r\n              toast.success(\"Email didn't send correctly.\");\r\n            }\r\n            dispatch({type:'SUBMIT_CONSENT_FORM', data:response.data});\r\n        }).catch(err => {\r\n          throw err;\r\n      })\r\n    }\r\n  }\r\n"],"sourceRoot":""}